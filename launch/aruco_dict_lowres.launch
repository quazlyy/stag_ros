<launch>
    <!-- Play Rosbag -->
    <node name="rosbag" pkg="rosbag" type="play" args="/fp/data/sequences/rnd/2024-06-18/Seq2/vrtk2_9578dc_2024-06-18-10-05-50_maximal_ros-cam.bag"  required="true"/>


    <!-- ArUco -->
    <node name="aruco_detect_4" pkg="aruco_detect" type="aruco_detect" output="screen" args="/camera:=/camera/lowres/image /fiducial_images:=/fiducial_images_4 /fiducial_vertices:=/fiducial_vertices_4 /fiducial_transforms:=/fiducial_transforms_4">
        <param name="dictionary" value="2"/>
        <param name="frame_id" value="camera_frame"/>
        <param name="publish_images" value="true"/>
        <param name="fiducial_len" value=".1"/>
        <param name="ignore_fiducials" value="1-3,5-1000"/>
    </node>
    <node name="aruco_detect_5" pkg="aruco_detect" type="aruco_detect" output="screen" args="/camera:=/camera/lowres/image /fiducial_images:=/fiducial_images_5 /fiducial_vertices:=/fiducial_vertices_5 /fiducial_transforms:=/fiducial_transforms_5">
        <param name="dictionary" value="6"/>
        <param name="frame_id" value="camera_frame"/>
        <param name="publish_images" value="true"/>
        <param name="fiducial_len" value=".1"/>
        <param name="ignore_fiducials" value="1-4,6-1000"/>
    </node>
    <node name="aruco_detect_6" pkg="aruco_detect" type="aruco_detect" output="screen" args="/camera:=/camera/lowres/image /fiducial_images:=/fiducial_images_6 /fiducial_vertices:=/fiducial_vertices_6 /fiducial_transforms:=/fiducial_transforms_6">
        <param name="dictionary" value="10"/>
        <param name="frame_id" value="camera_frame"/>
        <param name="publish_images" value="true"/>
        <param name="fiducial_len" value=".1"/>
        <param name="ignore_fiducials" value="1-5,7-1000"/>
    </node>
    <node name="aruco_detect_7" pkg="aruco_detect" type="aruco_detect" output="screen" args="/camera:=/camera/lowres/image /fiducial_images:=/fiducial_images_7 /fiducial_vertices:=/fiducial_vertices_7 /fiducial_transforms:=/fiducial_transforms_7">
        <param name="dictionary" value="14"/>
        <param name="frame_id" value="camera_frame"/>
        <param name="publish_images" value="true"/>
        <param name="fiducial_len" value=".1"/>
        <param name="ignore_fiducials" value="1-6,8-1000"/>
    </node>

    <!-- Camera Info -->
    <node name="camera_info" pkg="stag_ros" type="yaml_to_camera_info_publisher_lowres.py"/>

    <!-- rviz -->
    <node name="rviz" pkg="rviz" type="rviz" args="-d $(find stag_ros)/cfg/markers.rviz"/>

    <!-- image_view -->
    <node name="rqt_gui" pkg="rqt_gui" type="rqt_gui" output="screen" args="-p aruco_dict"/>

    <!-- Static TF for viz -->
    <node name="base_link_to_camera_tf" pkg="tf2_ros" type="static_transform_publisher" args="0 0 1.0 0 0 -1.57 base_link CAM" />
</launch>
